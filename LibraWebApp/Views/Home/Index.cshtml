@{
	ViewBag.Title = "Home Page";
	Layout = "~/Views/Shared/_LayoutLTE.cshtml";
	}

	@*<div class="jumbotron">
		<h1>ASP.NET</h1>
		<p class="lead">ASP.NET is a free web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
		<p><a href="https://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
	</div>

	<div class="row">
		<div class="col-md-4">
			<h2>Getting started</h2>
			<p>
				ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
				enables a clean separation of concerns and gives you full control over markup
				for enjoyable, agile development.
			</p>
			<p><a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkId=301865">Learn more &raquo;</a></p>
		</div>
		<div class="col-md-4">
			<h2>Get more libraries</h2>
			<p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
			<p><a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a></p>
		</div>
		<div class="col-md-4">
			<h2>Web Hosting</h2>
			<p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
			<p><a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
		</div>
	</div>*@

<div id="mainContainer">
</div>

@section scripts{
	<script>
		function goToHomePage() {
			debugger;
			$.ajax({
				url: "/Home/Index",
				data: {
				},
				xhrFields: {
					withCredentials: true
				},
				method: "GET",
				success: function (response) {
					$("#main-container").html(null);
					$("#main-container").html(response);
				},
			});
		}

		// Function to load the about page
		function loadAboutPage() {
			document.getElementById('content').innerHTML = '<h1>About Page</h1><p>Welcome to the About Page</p>';
		}

		// Function to handle route changes
		function handleRouteChange() {
			const path = window.location.pathname;
			if (path === '/') {
				loadHomePage();
			} else if (path === '/about') {
				loadAboutPage();
			} else {
				document.getElementById('content').innerHTML = '<h1>404 Not Found</h1>';
			}
		}

		// Function to navigate to a different route
		function navigate(path) {
			history.pushState({}, '', path);
			handleRouteChange();
		}

		// Event listeners for navigation buttons
		document.addEventListener('DOMContentLoaded', () => {
			document.getElementById('homeButton').addEventListener('click', () => navigate('/'));
			document.getElementById('aboutButton').addEventListener('click', () => navigate('/about'));
			handleRouteChange(); // Handle initial load
		});

		// Handle browser navigation (back/forward)
		window.addEventListener('popstate', handleRouteChange);

		async function fetchDataAndNavigate() {
			try {
				const response = await fetch('/some-api-endpoint');
				const data = await response.json();
				if (data.condition) {
					navigate('/new-route-based-on-condition');
				}
			} catch (error) {
				console.error('Error fetching data:', error);
			}
		}

		document.querySelector('#fetchDataButton').addEventListener('click', fetchDataAndNavigate);

	</script>
}
